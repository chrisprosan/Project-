<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Budgets</title>

  <link type="text/css" rel="stylesheet" href="style/landing-page.css">
  <link type="text/css" rel="stylesheet" href="style/budgets-page.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
  <div id="container">
    <div id="parent_div" class="parentElement">
      <div id="header" class="childElement">
        <div id="blueFiltered"></div>
      </div>
      <div id="headerContainer">
      <div id="topBar">
          <a href="index.html"><img id="logo" class="topBarImage" src="images/Logos/8862_Cash%20Flows_A_03.png"></a>
        </div>
      </div>
    </div>
  </div>
  <div id="content">
    <!-- Active Budgets Selector -->
    <div id="activeBudgets">
      <div id="activeBudgetsHeader" class="dropdownHeader">
        <input list="budgets" class="properDropdown" placeholder="Active Budget">
      </div>
    
  </div>

    <!-- Create A Budget Field -->
    <div id="createBudgets">
      <div id="createBudgetsHeader" class="dropdownHeader">
        <p>Create A Budget</p>
      </div>
      <!-- This holds all of the dropdowns down from "Create A Budget" -->
      <div id="createBudgetDropdownContainer">
        <form>
        <div class="sideBySide dropdownHeader">
          <p class="label">Budget Name</p>
          <div id="budgetNameSelector">
            <input id="budgetName" class="formSide" type="text" placeholder="-">
          </div>
        </div>
        <div class="sideBySide dropdownHeader">
          <p class="label">Time Intervel</p>
          <div id="timeIntervelSelector">
            <input id="timeIntervel" class="formSide" type="text" placeholder="-">
          </div>
        </div>
        <div class="sideBySide dropdownHeader">
          <p class="label">Currency</p>
          <div id="currencySelector">
            <input id="currency" class="formSide" type="text" placeholder="-">
          </div>
        </div>
      <!-- This holds the entire table -->
      <div id="tableContainer">
        <div id="table">
          <div class="rowHeader">
            <p class="headerCell cell">Categories</p>
            <p class="headerCell cell">Limit</p>
            <p class="headerCell cell">Notify Me At</p>
          </div>
          <div class="row">
            <input id="category" class="headerCell cell category" placeholder="Catagory" required="required">
            <input id="limit" class="headerCell cell limit" placeholder="Limit" required="required">
            <input id="notify" class="headerCell cell notify" placeholder="Notify Me At" required="required">
          </div>
          <img src="images/plus.png" id="plus">
        </div>
        <input type="button" id="createBudgetButton" value="Create Budget">
      </div>
      </form>
    </div>
    <!-- Popular Budgets Field -->
    <div id="popularBudgets">
      <div id="popularBudgetsHeader" class="dropdownHeader">
        <p>Popular Budgets</p>
      </div>
      <!-- This holds all of the budgets and the sort function -->
      <div id="popularBudgetDropdownContainer">
        <div class="sideBySide dropdownHeader">
          <p class="label">Sort By</p>
          <form id="filter2">
            <input list="sorting" class="popularDropdown">
          </form>
        </div>
        <!-- This is one budget -->
        <div id="popularBudgetsContainer">
          <div id="popBudgetHeader">
            <div id="creation">
              <p id="name">Broke College Student Budget</p>
              <p id="creator">BCITStudent1239</p>
            </div>
          </div>
          <div id="popBudgetSpace">
            <div id="popBudgetText">
              <p>Hello here is some info about the budget.</p>
            </div>
          </div>
          <input type="button" id="addToLibraryButton" value="Add to Library">
        </div>
        <!-- This is one budget -->
        <div id="popularBudgetsContainer">
          <div id="popBudgetHeader">
            <div id="creation">
              <p id="name">Rich Ivy League Student Budget</p>
              <p id="creator">HarvardCalls983</p>
            </div>
          </div>
          <div id="popBudgetSpace">
            <div id="popBudgetText">
              <p>Hello here is some text about the budget.</p>
            </div>
          </div>
          <input type="button" id="addToLibraryButton" value="Add to Library">
        </div>
      </div>
    </div>
  </div>
  <div id="footer">
    <a href="BudgetPage.html">
      <div id="expensesButton">
        <img src="images/list.png" class="navImages blackenImage">
        <p class="responsiveText">Budgets</p>
      </div>
    </a>
    <a href="ExpensesPage.html">
      <div id="transactionsButton">
        <img src="images/039-512.png" class="navImages blackenImage">
        <p class="responsiveText">Transactions</p>
      </div>
    </a>
    <div id="AccountsButton">
      <img src="images/personlogo.png" class="navImages blackenImage">
      <p id="signInButton" class="responsiveText"><a href="login.html">Sign In</a></p>
      <p id="signOutButton" class="responsiveText" onclick="signOut()"><a href="">Sign Out</a></p>
    </div>
  </div>
  </div>
  
  <datalist id="budgets">
    <option value="Project X">
    <option value="Project Y">
    <option value="Project Z">
  </datalist>
  
  <datalist id="sorting">
    <option value="Uses">
    <option value="Views">
    <option value="Ratings">
  </datalist>
  
  <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-app.js"></script>
  <script src="./scripts/app-config.js"></script>
  <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.3/firebase-firestore.js"></script>
  <script src="./scripts/app.js"></script>
  <script src="./scripts/budget.js"></script>
    <script>
      function createBudgets() {
        document.getElementById("createBudgetsHeader").addEventListener("click", function() {
          if (document.getElementById("createBudgetDropdownContainer").style.display == "block") {
            console.log("Create Budgets Widget Hidden");
            document.getElementById("createBudgetDropdownContainer").style.display = "none";
          } else {
            document.getElementById("createBudgetDropdownContainer").style.display = "block";
            console.log("Create Budgets Widget Shown");
          }
        })
      }
      
      function popularBudgets() {
        document.getElementById("popularBudgetsHeader").addEventListener("click", function() {
          if (document.getElementById("popularBudgetDropdownContainer").style.display == "block") {
            console.log("Popular Budgets Widget Hidden");
            document.getElementById("popularBudgetDropdownContainer").style.display = "none";
          } else {
            document.getElementById("popularBudgetDropdownContainer").style.display = "block";
            console.log("Popular Budgets Widget Shown");
          }
        })
      }
      
      function appendRow() {
        document.getElementById("plus").addEventListener("click", function() {
          var row = document.createElement("div");
          row.setAttribute("class", "row");
          var catagory = document.createElement("input");
          catagory.setAttribute("class", "headerCell cell");
          catagory.setAttribute("placeholder", "Catagory");
          
          var limit = document.createElement("input");
          limit.setAttribute("class", "headerCell cell");
          limit.setAttribute("placeholder", "Limit");
          
          var notif = document.createElement("input");
          notif.setAttribute("class", "headerCell cell");
          notif.setAttribute("placeholder", "Notify Me At");
           
          $(".row").last().after(row);
          $(".row").last().append(catagory, limit, notif);
          console.log("Table Row Added");
        })
      }
      
      createBudgets();
      popularBudgets();
      appendRow();  
  </script>
  </body>
</html>